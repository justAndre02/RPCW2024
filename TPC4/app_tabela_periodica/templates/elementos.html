<!DOCTYPE html>
<html>
    <header>
        <meta charset="utf-8"/>
        <title>Tabela Periódica : Elementos</title>
        <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}"/>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles/w3.css') }}"/>    
    </header>
    <body>
        <div class="w3-card-4">
            <header class="w3-container w3-purple">
                <h1>Elementos</h1>
                <p><a href="/">Index</a></p>
            </header>
            <div class="w3-container">
                <table class="w3-table-all">
                    <tr>
                        <th>Nome</th>
                        <th>Símbolo</th>
                        <th>Número Atómico</th>
                        <th>Grupo</th>
                    </tr>
                    {% for entry in data %}
                    <tr>
                        <td><a href="/elementos/{{ entry.nome.value }}">{{ entry.nome.value }}</a></td>
                        <td>{{ entry.simbolo.value }}</td>
                        <td>{{ entry.numero_atomico.value }}</td>
                        {% set grupo_id = entry.grupo.value.split('#')[-1] %}
                        <td><a href="/grupos/{{ grupo_id }}">{{ grupo_id }}</a></td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
            <footer class="w3-container w3-purple">
                <p>Generated by RPCW2024 on <span id="currentDate"></span></p>
            </footer>
              
            <script>
                // Get the current date object
                const currentDate = new Date();
              
                // Extract day, month (0-indexed), and year
                const day = currentDate.getDate();
                const month = currentDate.getMonth() + 1; // Add 1 to get actual month (January is 0)
                const year = currentDate.getFullYear();
              
                // Format the date string (e.g., "2024-03-10")
                const formattedDate = `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
              
                // Update the content of the span with the formatted date
                document.getElementById("currentDate").textContent = formattedDate;
            </script>
        </div>
    </body>
</html>