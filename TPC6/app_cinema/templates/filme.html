<!DOCTYPE html>
<html>
    <header>
        <meta charset="utf-8"/>
        <title>Cinema : {{ nome }}</title>
        <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}"/>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles/w3.css') }}"/>    
    </header>
    <body>
        <div class="w3-card-4">
            <header class="w3-container w3-blue">
                <h1>{{ nome }}</h1>
                <p><a href="/">Index</a></p>
                <p><a href="/filmes">Filmes</a></p>
            </header>
            <div class="w3-container">
                <table class="w3-table-all">
                    <tr>
                        <th>Título</th>
                        <td>{{ nome }}</td>
                    </tr>
                    <tr>
                        <th>Duração</th>
                        <td>{{ filme_data['duracao'][0] }}</td>
                    </tr>
                    <tr>
                        <th>Data de Lançamento</th>
                        <td>{{ filme_data['data'][0] }}</td>
                    </tr>
                    <tr>
                        <th>Atores</th>
                        <td>
                            {% for ator in filme_data['atores'] %}
                                <a href="/atores/{{ ator.split('/')[-1] }}">{{ ator.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <th>Realizadores</th>
                        <td>
                            {% for realizador in filme_data['realizadores'] %}
                                <a href="/realizadores/{{ realizador.split('/')[-1] }}">{{ realizador.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    
                    <tr>
                        <th>Produtores</th>
                        <td>
                            {% for produtor in filme_data['produtores'] %}
                                <a href="/produtores/{{ produtor.split('/')[-1] }}">{{ produtor.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    
                    <tr>
                        <th>Escritores</th>
                        <td>
                            {% for escritor in filme_data['escritores'] %}
                                <a href="/escritores/{{ escritor.split('/')[-1] }}">{{ escritor.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    
                    <tr>
                        <th>Argumentistas</th>
                        <td>
                            {% for argumentista in filme_data['argumentistas'] %}
                                <a href="/argumentistas/{{ argumentista.split('/')[-1] }}">{{ argumentista.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    
                    <tr>
                        <th>Compositores</th>
                        <td>
                            {% for compositor in filme_data['compositores'] %}
                                <a href="/compositores/{{ compositor.split('/')[-1] }}">{{ compositor.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    
                    <tr>
                        <th>Géneros</th>
                        <td>
                            {% for genero in filme_data['generos'] %}
                                <a href="/generos/{{ genero.split('/')[-1] }}">{{ genero.split('/')[-1] }}</a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                    </tr>
                    
                    <tr>
                        <th>Baseado em</th>
                        <td>
                            {% for book in filme_data['books'] %}
                                {{ book }}{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                </table>
            </div>
            <footer class="w3-container w3-blue">
                <p>Generated by RPCW2024 on <span id="currentDate"></span></p>
            </footer>
              
            <script>
                // Get the current date object
                const currentDate = new Date();
              
                // Extract day, month (0-indexed), and year
                const day = currentDate.getDate();
                const month = currentDate.getMonth() + 1; // Add 1 to get actual month (January is 0)
                const year = currentDate.getFullYear();
              
                // Format the date string (e.g., "2024-03-10")
                const formattedDate = `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
              
                // Update the content of the span with the formatted date
                document.getElementById("currentDate").textContent = formattedDate;
            </script>
        </div>
    </body>
</html>
